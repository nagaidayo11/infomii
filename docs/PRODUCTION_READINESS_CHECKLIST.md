# Production Readiness Checklist

最終更新: 2026-02-20

## 0. 現在の到達点
- [x] 単一ロール運用（全ユーザー同一権限）へ統一
- [x] `運用センター` を全ユーザー表示
- [x] `ops` API を全ユーザー利用可能に統一
- [x] 招待コード機能をアプリ側/DB側から撤去
- [x] Stripe Checkout + Webhook 受信確認

## 1. 運用フロー
- [ ] 新規ユーザーが初回ログインから3分で公開まで到達できるか確認
- [ ] 復旧操作（再同期/手動同期）を誰が実行しても同じ結果になるか確認

## 2. バックアップ/復旧（Runbook）
- [x] 「障害時の復旧手順」ドキュメント作成（`docs/RUNBOOK_BACKUP_RECOVERY.md`）
  - [ ] Supabaseキー更新時
  - [ ] Webhook不達時
  - [ ] RLSエラー時
- [x] 「誤削除時の復元手順」ドキュメント作成（`docs/RUNBOOK_BACKUP_RECOVERY.md`）
- [ ] 本番前に手順リハーサルを1回実施（`docs/REHEARSAL_PLAYBOOK.md` / 記録: `docs/rehearsal-records/TEMPLATE.md`）

## 3. 監視/通知
- [ ] Slack通知: 障害イベントの送信対象を最終確認
- [ ] メール通知: 宛先・送信ドメイン・差出人を本番値に切替
- [ ] 通知テストを定期実行する運用ルールを決める（週1推奨）

## 4. 公開品質チェック
- [ ] 公開前チェックを自動化
  - [ ] タイトル未入力
  - [ ] ノード遷移先未設定
  - [ ] 下書きページ遷移の警告
  - [ ] 画像URL破損検知（最低限）
- [ ] 公開ブロック時のエラーメッセージをユーザー向け文言に統一

## 5. 収益導線（Free/Pro）
- [ ] Free/Pro 差分を表示する文言最終化
- [ ] CTAクリック率と決済完了率の計測項目を固定
- [ ] 運用センターに「直近7日 CVR」の目標値を表示

## 6. 法務・サポート
- [ ] 利用規約ページ
- [ ] プライバシーポリシーページ
- [ ] お問い合わせ導線（フォーム or メール）
- [ ] （必要な場合）特商法表記

## 7. 本番リリース前日チェック
- [ ] 本番ENV反映（Supabase/Stripe/Resend/Slack）
- [ ] Stripe本番Webhookのイベント受信確認
- [ ] `npm run lint` / 主要画面の手動E2E
- [ ] 単一ロール動作確認（全ユーザー同一機能）
- [ ] 既存データ移行・バックアップ確認

## 8. リリース当日
- [ ] 監視タブを開いた状態でリリース
- [ ] 初回決済まで同席監視
- [ ] 不具合一次対応の連絡窓口を固定

---

## 実行順（推奨）
1. 権限UIの可視化
2. 復旧Runbook作成
3. 公開前チェック自動化
4. 法務ページ追加
5. 本番ENV最終切替
